import{t as N,a as C}from"../chunks/DZEbM5N7.js";import{i as ne}from"../chunks/XP1VIVni.js";import{N as me,Q as ge,D as Y,P as I,z as be,E as we,g as x,a8 as xe,a2 as ye,a3 as ae,C as F,F as O,G as Ae,a4 as oe,O as fe,a5 as Ee,aq as K,L as ve,x as re,ar as te,ab as Te,X as se,as as Q,at as Ie,K as ke,au as Ce,T as Le,av as U,aw as Ne,A as He,v as Me,ax as ue,am as Be,ay as Re,a1 as De,az as Se,p as de,s as D,k as L,m as E,t as B,i as ce,j as _e,aA as P,aB as Oe}from"../chunks/C9yqO1Qa.js";import{s as z}from"../chunks/DXOpzjK3.js";import"../chunks/DkkvbdJX.js";import{p as M,i as We}from"../chunks/DVSHkZI_.js";function q(t,e){return e}function qe(t,e,a,n){for(var i=[],o=e.length,d=0;d<o;d++)Ie(e[d].e,i,!0);var _=o>0&&i.length===0&&a!==null;if(_){var m=a.parentNode;ke(m),m.append(a),n.clear(),k(t,e[0].prev,e[o-1].next)}Ce(i,()=>{for(var g=0;g<o;g++){var f=e[g];_||(n.delete(f.k),k(t,f.prev,f.next)),Le(f.e,!_)}})}function G(t,e,a,n,i,o=null){var d=t,_={flags:e,items:new Map,first:null},m=(e&ue)!==0;if(m){var g=t;d=I?Y(be(g)):g.appendChild(me())}I&&we();var f=null,u=!1,l=xe(()=>{var v=a();return Me(v)?v:v==null?[]:ve(v)});ge(()=>{var v=x(l),r=v.length;if(u&&r===0)return;u=r===0;let y=!1;if(I){var w=d.data===ye;w!==(r===0)&&(d=ae(),Y(d),F(!1),y=!0)}if(I){for(var p=null,b,h=0;h<r;h++){if(O.nodeType===8&&O.data===Ae){d=O,y=!0,F(!1);break}var s=v[h],c=n(s,h);b=he(O,_,p,null,s,c,h,i,e,a),_.items.set(c,b),p=b}r>0&&Y(ae())}I||Ge(v,_,d,i,e,n,a),o!==null&&(r===0?f?oe(f):f=fe(()=>o(d)):f!==null&&Ee(f,()=>{f=null})),y&&F(!0),x(l)}),I&&(d=O)}function Ge(t,e,a,n,i,o,d){var J,Z,$,j;var _=(i&Re)!==0,m=(i&(U|Q))!==0,g=t.length,f=e.items,u=e.first,l=u,v,r=null,y,w=[],p=[],b,h,s,c;if(_)for(c=0;c<g;c+=1)b=t[c],h=o(b,c),s=f.get(h),s!==void 0&&((J=s.a)==null||J.measure(),(y??(y=new Set)).add(s));for(c=0;c<g;c+=1){if(b=t[c],h=o(b,c),s=f.get(h),s===void 0){var V=l?l.e.nodes_start:a;r=he(V,e,r,r===null?e.first:r.next,b,h,c,n,i,d),f.set(h,r),w=[],p=[],l=r.next;continue}if(m&&ze(s,b,c,i),s.e.f&K&&(oe(s.e),_&&((Z=s.a)==null||Z.unfix(),(y??(y=new Set)).delete(s))),s!==l){if(v!==void 0&&v.has(s)){if(w.length<p.length){var T=p[0],A;r=T.prev;var R=w[0],S=w[w.length-1];for(A=0;A<w.length;A+=1)le(w[A],T,a);for(A=0;A<p.length;A+=1)v.delete(p[A]);k(e,R.prev,S.next),k(e,r,R),k(e,S,T),l=T,r=S,c-=1,w=[],p=[]}else v.delete(s),le(s,l,a),k(e,s.prev,s.next),k(e,s,r===null?e.first:r.next),k(e,r,s),r=s;continue}for(w=[],p=[];l!==null&&l.k!==h;)l.e.f&K||(v??(v=new Set)).add(l),p.push(l),l=l.next;if(l===null)continue;s=l}w.push(s),r=s,l=s.next}if(l!==null||v!==void 0){for(var H=v===void 0?[]:ve(v);l!==null;)l.e.f&K||H.push(l),l=l.next;var X=H.length;if(X>0){var pe=i&ue&&g===0?a:null;if(_){for(c=0;c<X;c+=1)($=H[c].a)==null||$.measure();for(c=0;c<X;c+=1)(j=H[c].a)==null||j.fix()}qe(e,H,pe,f)}}_&&Be(()=>{var ee;if(y!==void 0)for(s of y)(ee=s.a)==null||ee.apply()}),re.first=e.first&&e.first.e,re.last=r&&r.e}function ze(t,e,a,n){n&U&&te(t.v,e),n&Q?te(t.i,a):t.i=a}function he(t,e,a,n,i,o,d,_,m,g){var f=(m&U)!==0,u=(m&Ne)===0,l=f?u?Te(i):se(i):i,v=m&Q?se(d):d,r={i:v,v:l,k:o,a:null,e:null,prev:a,next:n};try{return r.e=fe(()=>_(t,l,v,g),I),r.e.prev=a&&a.e,r.e.next=n&&n.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),n!==null&&(n.prev=r,n.e.prev=r.e),r}finally{}}function le(t,e,a){for(var n=t.next?t.next.e.nodes_start:a,i=e?e.e.nodes_start:a,o=t.e.nodes_start;o!==n;){var d=He(o);i.before(o),o=d}}function k(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function W(t,e,a,n){var i=t.__attributes??(t.__attributes={});I&&(i[e]=t.getAttribute(e)),i[e]!==(i[e]=a)&&("__styles"in t&&(t.__styles={}),a==null?t.removeAttribute(e):typeof a!="string"&&Ve(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var ie=new Map;function Ve(t){var e=ie.get(t.nodeName);if(e)return e;ie.set(t.nodeName,e=[]);for(var a,n=t,i=Element.prototype;i!==n;){a=Se(n);for(var o in a)a[o].set&&e.push(o);n=De(n)}return e}var Xe=N('<div class="label svelte-1y5do2d"> </div>'),Ye=N('<div class="cell svelte-1y5do2d"></div>'),Fe=N('<div class="label svelte-1y5do2d"> </div> <!>',1),Ke=N('<div class="matrix-container svelte-1y5do2d"><div class="label svelte-1y5do2d"></div> <!> <!></div>');function Pe(t,e){de(e,!1);let a=M(e,"data",24,()=>[[]]),n=M(e,"rowLabels",24,()=>[]),i=M(e,"colLabels",24,()=>[]),o=M(e,"rowHeights",24,()=>[]),d=M(e,"colWidths",24,()=>[]);ne();var _=Ke(),m=D(L(_),2);G(m,1,i,q,(f,u,l)=>{var v=Xe(),r=L(v,!0);E(v),B(()=>{W(v,"style",`width: ${d()[l]||"auto"}`),z(r,x(u))}),C(f,v)});var g=D(m,2);G(g,1,a,q,(f,u,l)=>{var v=Fe(),r=ce(v),y=L(r,!0);E(r);var w=D(r,2);G(w,1,()=>x(u),q,(p,b,h)=>{var s=Ye();B(()=>W(s,"style",`background-color: ${x(b)??""}; width: ${d()[h]||"auto"}; height: ${o()[l]||"auto"}`)),C(p,s)}),B(()=>{W(r,"style",`height: ${o()[l]||"auto"}`),z(y,n()[l]||"")}),C(f,v)}),E(_),B(()=>W(_,"style",`--cols: ${a()[0].length??""}; --rows: ${a().length??""};`)),C(t,_),_e()}var Qe=N("<b> </b><br> ",1),Ue=N('<bar class="svelte-1etukjd"><!></bar>'),Je=N('<main><!> <bars style="width:100%; display:flex;" class="svelte-1etukjd"></bars></main>');function Ze(t,e){de(e,!1);let a=M(e,"A",24,()=>({})),n=M(e,"B",24,()=>({})),i=a().sides.split(""),o=n().sides.split(""),d=[],_=[],m=[],g=[],f=[],u=Oe([0,0,0]);for(let p=0;p<i.length;p++){let b=[];d.push(i[p]),_.push("30px"),g.push(o[p]),m.push("30px");for(let h=0;h<o.length;h++)i[p]>o[h]?(b.push(a().color),P(u,x(u)[0]++)):i[p]<o[h]?(b.push(n().color),P(u,x(u)[2]++)):(b.push("white"),P(u,x(u)[1]++));f.push(b)}let l=x(u)[0]+x(u)[1]+x(u)[2],v=x(u).map(p=>Math.round(p/l*1e3)/10);ne();var r=Je(),y=L(r);Pe(y,{data:f,rowLabels:d,colLabels:g,rowHeights:_,colWidths:m});var w=D(y,2);G(w,5,()=>x(u),q,(p,b,h)=>{var s=Ue(),c=L(s);{var V=T=>{var A=Qe(),R=ce(A),S=L(R,!0);E(R);var H=D(R,2);B(()=>{z(S,x(b)),z(H,`(${v[h]??""}%)`)}),C(T,A)};We(c,T=>{x(b)>0&&T(V)})}E(s),B(()=>W(s,"style",`background:${(h==0?a().color:h==1?"white":n().color)??""}; width:${v[h]??""}%;`)),C(p,s)}),E(w),E(r),C(t,r),_e()}var $e=N('<main class="svelte-1h86ym0"><h1> </h1> <div class="grid svelte-1h86ym0"></div></main>');function la(t){let e={name:"Grime",dices:[{name:"Rot",sides:"444449",color:"red"},{name:"Gelb",sides:"333388",color:"yellow"},{name:"Magenta",sides:"116666",color:"magenta"},{name:"Blau",sides:"222777",color:"blue"},{name:"Olive",sides:"055555",color:"green"}]},a=m=>{let g=[];for(let f=0;f<m.length;f++)for(let u=f+1;u<m.length;u++)g.push([m[f],m[u]]);return g},n=e;var i=$e(),o=L(i),d=L(o);E(o);var _=D(o,2);G(_,5,()=>a(n.dices),q,(m,g)=>{let f=()=>x(g)[0],u=()=>x(g)[1];Ze(m,{get A(){return f()},get B(){return u()}})}),E(_),E(i),B(()=>z(d,`Intransitive WÃ¼rfel (${n.name})`)),C(t,i)}export{la as component};
