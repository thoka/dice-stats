import{t as N,a as L}from"../chunks/DejEMzzS.js";import{i as ne}from"../chunks/CZlQUDZb.js";import{T as me,i as ge,L as z,m as T,G as be,M as we,g as x,a8 as xe,a2 as ye,a3 as ae,K,o as O,N as Ae,a4 as oe,j as fe,a5 as Ee,aq as Q,R as ve,D as re,ar as te,ab as Ie,X as se,as as F,at as Te,Q as ke,au as Le,k as Me,av as J,aw as Ne,I as Ce,B as He,ax as ue,am as Be,ay as Re,a1 as De,az as Se,p as de,x as D,v as M,w as E,t as B,q as ce,s as _e,aA as U,aB as Oe}from"../chunks/Cx6A-doE.js";import{s as V}from"../chunks/COiASy8m.js";import"../chunks/DFqwqxFc.js";import{p as H,i as We}from"../chunks/DuSTasR-.js";function q(t,e){return e}function qe(t,e,a,n){for(var i=[],o=e.length,d=0;d<o;d++)Te(e[d].e,i,!0);var _=o>0&&i.length===0&&a!==null;if(_){var m=a.parentNode;ke(m),m.append(a),n.clear(),k(t,e[0].prev,e[o-1].next)}Le(i,()=>{for(var g=0;g<o;g++){var f=e[g];_||(n.delete(f.k),k(t,f.prev,f.next)),Me(f.e,!_)}})}function G(t,e,a,n,i,o=null){var d=t,_={flags:e,items:new Map,first:null},m=(e&ue)!==0;if(m){var g=t;d=T?z(be(g)):g.appendChild(me())}T&&we();var f=null,u=!1,l=xe(()=>{var v=a();return He(v)?v:v==null?[]:ve(v)});ge(()=>{var v=x(l),r=v.length;if(u&&r===0)return;u=r===0;let y=!1;if(T){var w=d.data===ye;w!==(r===0)&&(d=ae(),z(d),K(!1),y=!0)}if(T){for(var p=null,b,h=0;h<r;h++){if(O.nodeType===8&&O.data===Ae){d=O,y=!0,K(!1);break}var s=v[h],c=n(s,h);b=he(O,_,p,null,s,c,h,i,e,a),_.items.set(c,b),p=b}r>0&&z(ae())}T||Ge(v,_,d,i,e,n,a),o!==null&&(r===0?f?oe(f):f=fe(()=>o(d)):f!==null&&Ee(f,()=>{f=null})),y&&K(!0),x(l)}),T&&(d=O)}function Ge(t,e,a,n,i,o,d){var P,Z,$,j;var _=(i&Re)!==0,m=(i&(J|F))!==0,g=t.length,f=e.items,u=e.first,l=u,v,r=null,y,w=[],p=[],b,h,s,c;if(_)for(c=0;c<g;c+=1)b=t[c],h=o(b,c),s=f.get(h),s!==void 0&&((P=s.a)==null||P.measure(),(y??(y=new Set)).add(s));for(c=0;c<g;c+=1){if(b=t[c],h=o(b,c),s=f.get(h),s===void 0){var X=l?l.e.nodes_start:a;r=he(X,e,r,r===null?e.first:r.next,b,h,c,n,i,d),f.set(h,r),w=[],p=[],l=r.next;continue}if(m&&Ve(s,b,c,i),s.e.f&Q&&(oe(s.e),_&&((Z=s.a)==null||Z.unfix(),(y??(y=new Set)).delete(s))),s!==l){if(v!==void 0&&v.has(s)){if(w.length<p.length){var I=p[0],A;r=I.prev;var R=w[0],S=w[w.length-1];for(A=0;A<w.length;A+=1)le(w[A],I,a);for(A=0;A<p.length;A+=1)v.delete(p[A]);k(e,R.prev,S.next),k(e,r,R),k(e,S,I),l=I,r=S,c-=1,w=[],p=[]}else v.delete(s),le(s,l,a),k(e,s.prev,s.next),k(e,s,r===null?e.first:r.next),k(e,r,s),r=s;continue}for(w=[],p=[];l!==null&&l.k!==h;)l.e.f&Q||(v??(v=new Set)).add(l),p.push(l),l=l.next;if(l===null)continue;s=l}w.push(s),r=s,l=s.next}if(l!==null||v!==void 0){for(var C=v===void 0?[]:ve(v);l!==null;)l.e.f&Q||C.push(l),l=l.next;var Y=C.length;if(Y>0){var pe=i&ue&&g===0?a:null;if(_){for(c=0;c<Y;c+=1)($=C[c].a)==null||$.measure();for(c=0;c<Y;c+=1)(j=C[c].a)==null||j.fix()}qe(e,C,pe,f)}}_&&Be(()=>{var ee;if(y!==void 0)for(s of y)(ee=s.a)==null||ee.apply()}),re.first=e.first&&e.first.e,re.last=r&&r.e}function Ve(t,e,a,n){n&J&&te(t.v,e),n&F?te(t.i,a):t.i=a}function he(t,e,a,n,i,o,d,_,m,g){var f=(m&J)!==0,u=(m&Ne)===0,l=f?u?Ie(i):se(i):i,v=m&F?se(d):d,r={i:v,v:l,k:o,a:null,e:null,prev:a,next:n};try{return r.e=fe(()=>_(t,l,v,g),T),r.e.prev=a&&a.e,r.e.next=n&&n.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),n!==null&&(n.prev=r,n.e.prev=r.e),r}finally{}}function le(t,e,a){for(var n=t.next?t.next.e.nodes_start:a,i=e?e.e.nodes_start:a,o=t.e.nodes_start;o!==n;){var d=Ce(o);i.before(o),o=d}}function k(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function W(t,e,a,n){var i=t.__attributes??(t.__attributes={});T&&(i[e]=t.getAttribute(e)),i[e]!==(i[e]=a)&&("__styles"in t&&(t.__styles={}),a==null?t.removeAttribute(e):typeof a!="string"&&Xe(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var ie=new Map;function Xe(t){var e=ie.get(t.nodeName);if(e)return e;ie.set(t.nodeName,e=[]);for(var a,n=t,i=Element.prototype;i!==n;){a=Se(n);for(var o in a)a[o].set&&e.push(o);n=De(n)}return e}var Ye=N('<div class="label svelte-1y5do2d"> </div>'),ze=N('<div class="cell svelte-1y5do2d"></div>'),Ke=N('<div class="label svelte-1y5do2d"> </div> <!>',1),Qe=N('<div class="matrix-container svelte-1y5do2d"><div class="label svelte-1y5do2d"></div> <!> <!></div>');function Ue(t,e){de(e,!1);let a=H(e,"data",24,()=>[[]]),n=H(e,"rowLabels",24,()=>[]),i=H(e,"colLabels",24,()=>[]),o=H(e,"rowHeights",24,()=>[]),d=H(e,"colWidths",24,()=>[]);ne();var _=Qe(),m=D(M(_),2);G(m,1,i,q,(f,u,l)=>{var v=Ye(),r=M(v,!0);E(v),B(()=>{W(v,"style",`width: ${d()[l]||"auto"}`),V(r,x(u))}),L(f,v)});var g=D(m,2);G(g,1,a,q,(f,u,l)=>{var v=Ke(),r=ce(v),y=M(r,!0);E(r);var w=D(r,2);G(w,1,()=>x(u),q,(p,b,h)=>{var s=ze();B(()=>W(s,"style",`background-color: ${x(b)??""}; width: ${d()[h]||"auto"}; height: ${o()[l]||"auto"}`)),L(p,s)}),B(()=>{W(r,"style",`height: ${o()[l]||"auto"}`),V(y,n()[l]||"")}),L(f,v)}),E(_),B(()=>W(_,"style",`--cols: ${a()[0].length??""}; --rows: ${a().length??""};`)),L(t,_),_e()}var Fe=N("<b> </b><br> ",1),Je=N('<bar class="svelte-1etukjd"><!></bar>'),Pe=N('<main><!> <bars style="width:100%; display:flex;" class="svelte-1etukjd"></bars></main>');function Ze(t,e){de(e,!1);let a=H(e,"A",24,()=>({})),n=H(e,"B",24,()=>({})),i=a().sides.split(""),o=n().sides.split(""),d=[],_=[],m=[],g=[],f=[],u=Oe([0,0,0]);for(let p=0;p<i.length;p++){let b=[];d.push(i[p]),_.push("30px"),g.push(o[p]),m.push("30px");for(let h=0;h<o.length;h++)i[p]>o[h]?(b.push(a().color),U(u,x(u)[0]++)):i[p]<o[h]?(b.push(n().color),U(u,x(u)[2]++)):(b.push("white"),U(u,x(u)[1]++));f.push(b)}let l=x(u)[0]+x(u)[1]+x(u)[2],v=x(u).map(p=>Math.round(p/l*1e3)/10);ne();var r=Pe(),y=M(r);Ue(y,{data:f,rowLabels:d,colLabels:g,rowHeights:_,colWidths:m});var w=D(y,2);G(w,5,()=>x(u),q,(p,b,h)=>{var s=Je(),c=M(s);{var X=I=>{var A=Fe(),R=ce(A),S=M(R,!0);E(R);var C=D(R,2);B(()=>{V(S,x(b)),V(C,`(${v[h]??""}%)`)}),L(I,A)};We(c,I=>{x(b)>0&&I(X)})}E(s),B(()=>W(s,"style",`background:${(h==0?a().color:h==1?"white":n().color)??""}; width:${v[h]??""}%;`)),L(p,s)}),E(w),E(r),L(t,r),_e()}var $e=N('<main class="svelte-1h86ym0"><h1> </h1> <div class="grid svelte-1h86ym0"></div></main>');function la(t){let e={name:"Grime",dices:[{name:"Rot",sides:"444449",color:"red"},{name:"Gelb",sides:"333388",color:"yellow"},{name:"Magenta",sides:"116666",color:"magenta"},{name:"Blau",sides:"222777",color:"blue"},{name:"Olive",sides:"055555",color:"green"}]},a=m=>{let g=[];for(let f=0;f<m.length;f++)for(let u=f+1;u<m.length;u++)g.push([m[f],m[u]]);return g},n=e;var i=$e(),o=M(i),d=M(o);E(o);var _=D(o,2);G(_,5,()=>a(n.dices),q,(m,g)=>{let f=()=>x(g)[0],u=()=>x(g)[1];Ze(m,{get A(){return f()},get B(){return u()}})}),E(_),E(i),B(()=>V(d,`Intransitive WÃ¼rfel (${n.name})`)),L(t,i)}export{la as component};
